<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Top Servers</title>
    <link rel="icon" href="/images/bot-logo.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/commands.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/analytics.css">
</head>
<body>
    <div class="dashboard-container">
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <img src="/images/bot-logo.png" alt="System Bot Logo" class="bot-logo">
                <h2>System Bot</h2>
            </div>
            <nav>
                <ul>
                    <li><a href="/dashboard"><img src="/images/icons/user.png" alt="User Profile Icon"> <span>User Profile</span></a></li>
                    <li><a href="/dashboard"><img src="/images/icons/server.png" alt="Managed Servers Icon"> <span>Managed Servers</span></a></li>
                    <li><a href="/commands"><img src="/images/icons/terminal.png" alt="Commands Icon"> <span>Commands</span></a></li>
                    <li><a href="/leaderboards/coins"><img src="/images/icons/coins.png" alt="Coins Leaderboard Icon"> <span>Coins Leaderboard</span></a></li>
                    <li><a href="/leaderboards/xp"><img src="/images/icons/star.png" alt="XP Leaderboard Icon"> <span>XP Leaderboard</span></a></li>
                    <li><a href="/settings"><img src="/images/icons/cog.png" alt="Settings Icon"> <span>Settings</span></a></li>
                    <li><a href="/analytics"><img src="/images/icons/chart-bar.png" alt="Analytics Icon"> <span>Top Servers</span></a></li>
                    <li><a href="/daily-reward"><img src="/images/icons/gift.png" alt="Daily Reward Icon"> <span>Daily Reward</span></a></li>
                    
                    <li><a href="/logout"><img src="/images/icons/sign-out.png" alt="Logout Icon"> <span>Logout</span></a></li>
                </ul>
            </nav>
        </aside>
        <div class="main-content">
            <div class="analytics-container">
                <h1 class="analytics-title">Top Servers</h1>
                <div class="server-stats">
                    <div>
                        <h3>Total Servers</h3>
                        <p><%= topServers.length.toLocaleString() %></p>
                    </div>
                    <div>
                        <h3>Total Members</h3>
                        <p><%= topServers.reduce((sum, server) => sum + server.memberCount, 0).toLocaleString() %></p>
                    </div>
                </div>
                <table class="server-table">
                    <thead>
                        <tr>
                            <th style="width: 10%;"><i class="fas fa-trophy"></i> Rank</th>
                            <th style="width: 60%;"><i class="fas fa-server"></i> Server Name</th>
                            <th style="width: 30%;"><i class="fas fa-users"></i> Members</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% topServers.forEach((server, index) => { %>
                            <tr>
                                <td class="rank"><%= index + 1 %></td>
                                <td class="server-name">
                                    <img src="<%= server.icon %>" alt="<%= server.name %> icon" class="server-icon">
                                    <%= server.name %>
                                </td>
                                <td class="member-count"><%= server.memberCount.toLocaleString() %></td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script src="/js/sidebar.js"></script>
</body>
</html>
